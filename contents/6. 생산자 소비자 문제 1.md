# 6. 생산자 소비자 문제 1  
- 기본 개념  
  - 생산자(Producer) : 데이터를 생성하는 역할  
  - 소비자(Consumer) : 생성된 데이터를 사용하는 역할  
  - 버퍼(Buffer) : 생산자가 생성한 데이터를 일시적으로 저장하는 한정된 크기의 공간  
  
  
- 문제 상황  
  - 생산자가 너무 빠를 때 : 버퍼에 생산한 데이터를 저장하고, 버퍼가 가득 차 있으면 빈 공간이 생길 때까지 기다림.  
  - 소비자가 너무 빠를 때 : 버퍼에 저장된 데이터를 소비하고, 버퍼가 비어있으면 새로운 데이터가 저장될 때까지 기다림.  
  
  
- 한정된 버퍼 크기 문제 케이스  
  - 소비자 스레드들이 먼저 종료되어 데이터를 소비할 스레드가 없어,  
    버퍼(queue)에 데이터가 가득 차버리고, 남은 생산자가 새로 생성된 데이터는 버려짐.  

  - 생산자 스레드들이 먼저 종료되어 데이터를 생산할 스레드가 없어,  
    버퍼(queue)가 비어버리므로 남은 소비자가 데이터를 받을 수 없음.  
  
  
- `sleep()` 을 이용하여 생산자/소비자가 기다릴 경우 문제 케이스  
  - 버퍼가 가득 차버린 상황에서 락을 가진 생산자는 버퍼에 자리가 남기만을 계속 기다리지만,  
  데이터를 소비할 소비자는 락이 없어 BLOCKED 상태가 되기 때문에 데드락 발생.  

  - 버퍼가 비어 있는 상황에서 소비자는 락을 들고 버퍼에 데이터가 저장되기를 계속 기다리지만,  
  생산자는 락이 없어 BLOCKED 상태가 되기 때문에 데드락 발생.  

  
